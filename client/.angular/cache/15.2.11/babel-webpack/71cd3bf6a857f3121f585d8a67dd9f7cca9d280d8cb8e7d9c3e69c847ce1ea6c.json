{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../cart.service\";\nimport * as i4 from \"@angular/common\";\nfunction WishlistComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5);\n    i0.ɵɵelement(3, \"img\", 6);\n    i0.ɵɵelementStart(4, \"h1\", 7);\n    i0.ɵɵtext(5, \"Your WishList is empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h4\", 8);\n    i0.ɵɵtext(7, \"Browse Product and add them to your \");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9, \"wishlist to see them here\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 9);\n    i0.ɵɵtext(11, \"CONTINUE SHOPPING\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction WishlistComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"img\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h5\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 15)(9, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_div_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteWish(product_r2));\n    });\n    i0.ɵɵelement(10, \"i\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function WishlistComponent_div_2_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addtocart(product_r2));\n    });\n    i0.ɵɵelement(12, \"i\", 19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 20)(14, \"h6\", 21)(15, \"u\", 22);\n    i0.ɵɵtext(16, \"Description\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"p\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r2.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", product_r2.price, \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(product_r2.description);\n  }\n}\nexport class WishlistComponent {\n  constructor(api, router, cart) {\n    this.api = api;\n    this.router = router;\n    this.cart = cart;\n    this.wishList = [];\n  }\n  ngOnInit() {\n    this.api.getWishlist().subscribe(data => {\n      this.wishList = data.products;\n      if (this.wishList.length == 0) {\n        this.errorMsg = 'Empty wishlist';\n      }\n    }, data => {\n      this.errorMsg = data.error.message;\n    });\n  }\n  deleteWish(product) {\n    this.api.deleteWish(product.id).subscribe(result => {\n      alert(result.message);\n      this.ngOnInit(); // Automatic refresh\n      this.wishList = result.wishList;\n    }, result => {\n      alert(result.error.message);\n    });\n  }\n  addtocart(product) {\n    this.cart.addtocart(product);\n  }\n  static #_ = this.ɵfac = function WishlistComponent_Factory(t) {\n    return new (t || WishlistComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CartService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WishlistComponent,\n    selectors: [[\"app-wishlist\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"class\", \"container mt-5 pb-5 mb-5\", 4, \"ngIf\"], [1, \"container\", \"px-lg-5\", \"py-5\"], [\"class\", \"row mx-2 mx-lg-5 my-4 border my-lg-2 \", 4, \"ngFor\", \"ngForOf\"], [1, \"container\", \"mt-5\", \"pb-5\", \"mb-5\"], [1, \"row\"], [1, \"col-12\", \"text-center\", \"noWish\"], [\"src\", \"../../../assets/images/wishlist.jpeg\", \"width\", \"200\", \"alt\", \"\"], [1, \"pb-3\", \"pt-3\"], [1, \"pb-2\"], [\"type\", \"button\", \"routerLink\", \"\", 1, \"bg-success\", \"text-white\", \"rounded\", \"py-2\", \"px-3\"], [1, \"row\", \"mx-2\", \"mx-lg-5\", \"my-4\", \"border\", \"my-lg-2\"], [1, \"col-6\", \"col-lg-3\", \"text-center\", \"p-3\"], [\"alt\", \"\", 2, \"height\", \"160px\", \"width\", \"130px\", 3, \"src\"], [1, \"col-6\", \"col-lg-3\", \"bg-light\", \"py-2\"], [1, \"fw-bold\"], [1, \"text-center\", \"mt-5\"], [1, \"btn\", \"btn-outline-danger\", \"mx-3\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"btn\", \"btn-outline-success\", \"mx-3\", 3, \"click\"], [1, \"fa\", \"fa-cart-plus\"], [1, \"col-lg-6\", \"p-3\"], [1, \"text-center\", \"fw-bold\"], [2, \"color\", \"rgba(0, 0, 0, .7)\"]],\n    template: function WishlistComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WishlistComponent_div_0_Template, 12, 0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, WishlistComponent_div_2_Template, 19, 4, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMsg);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.wishList);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i2.RouterLink],\n    styles: [\"@import url(https://fonts.googleapis.com/css2?family=Ubuntu&display=swap);p[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\\r\\n    font-family: 'Ubuntu', sans-serif;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvd2lzaGxpc3Qvd2lzaGxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtJQUNJLGlDQUFpQztBQUNyQyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVVidW50dSZkaXNwbGF5PXN3YXAnKTtcclxuXHJcbnAsIGg2IHtcclxuICAgIGZvbnQtZmFtaWx5OiAnVWJ1bnR1Jywgc2Fucy1zZXJpZjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IACAA,8BAAuD;IAG3CA,yBAAmE;IACnEA,6BAAsB;IAAAA,sCAAsB;IAAAA,iBAAK;IACjDA,6BAAiB;IAAAA,oDAAoC;IAAAA,qBAAI;IAAAA,yCAAyB;IAAAA,iBAAK;IACvFA,kCAAoF;IAAAA,kCACxE;IAAAA,iBAAS;;;;;;IAQ7BA,+BAAoF;IAE5EA,0BAAoE;IACxEA,iBAAM;IACNA,+BAA2C;IACpCA,YAAiB;IAAAA,iBAAI;IACxBA,8BAAoB;IAAAA,YAAkB;IAAAA,iBAAK;IAC3CA,+BAA8B;IAClBA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAmB;IAAA,EAAC;IAAsCA,yBAC1C;IAAAA,iBAAS;IAC1CA,mCAA2E;IAAnEA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAkB;IAAA,EAAC;IAAuCA,yBACvC;IAAAA,iBAAS;IAGrDA,gCAA4B;IAC2CA,4BAAW;IAAAA,iBAAI;IAClFA,0BAAG;IAAAA,aAAuB;IAAAA,iBAAI;;;;IAdzBA,eAAqB;IAArBA,mEAAqB;IAGvBA,eAAiB;IAAjBA,sCAAiB;IACAA,eAAkB;IAAlBA,gDAAkB;IAUnCA,gBAAuB;IAAvBA,4CAAuB;;;ACtBtC,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,GAAe,EAAUC,MAAc,EAAUC,IAAiB;IAAlE,QAAG,GAAHF,GAAG;IAAsB,WAAM,GAANC,MAAM;IAAkB,SAAI,GAAJC,IAAI;IAHzE,aAAQ,GAAQ,EAAE;EAGwE;EAE1FC,QAAQ;IACN,IAAI,CAACH,GAAG,CAACI,WAAW,EAAE,CAACC,SAAS,CAC7BC,IAAS,IAAI;MACZ,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACE,QAAQ;MAC7B,IAAI,IAAI,CAACD,QAAQ,CAACE,MAAM,IAAI,CAAC,EAAE;QAC7B,IAAI,CAACC,QAAQ,GAAG,gBAAgB;;IAEpC,CAAC,EACAJ,IAAS,IAAI;MACZ,IAAI,CAACI,QAAQ,GAAGJ,IAAI,CAACK,KAAK,CAACC,OAAO;IACpC,CAAC,CACF;EACH;EAEAC,UAAU,CAACC,OAAY;IACrB,IAAI,CAACd,GAAG,CAACa,UAAU,CAACC,OAAO,CAACC,EAAE,CAAC,CAACV,SAAS,CACtCW,MAAW,IAAI;MACdC,KAAK,CAACD,MAAM,CAACJ,OAAO,CAAC;MACrB,IAAI,CAACT,QAAQ,EAAE,EAAC;MAChB,IAAI,CAACI,QAAQ,GAAGS,MAAM,CAACT,QAAQ;IACjC,CAAC,EACAS,MAAW,IAAI;MACdC,KAAK,CAACD,MAAM,CAACL,KAAK,CAACC,OAAO,CAAC;IAC7B,CAAC,CACF;EACH;EAEAM,SAAS,CAACJ,OAAY;IACpB,IAAI,CAACZ,IAAI,CAACgB,SAAS,CAACJ,OAAO,CAAC;EAC9B;EAAC;qBApCUhB,iBAAiB;EAAA;EAAA;UAAjBA,iBAAiB;IAAAqB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDT9B1B,mEAUM;QAINA,8BAAoC;QAChCA,mEAkBM;QACVA,iBAAM;;;QAlCiCA,mCAAc;QAesBA,eAAW;QAAXA,sCAAW","names":["i0","WishlistComponent","constructor","api","router","cart","ngOnInit","getWishlist","subscribe","data","wishList","products","length","errorMsg","error","message","deleteWish","product","id","result","alert","addtocart","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\macga\\OneDrive\\Bureau\\FREELANCE\\AZIZ\\mean-shoplift\\client\\src\\app\\products\\wishlist\\wishlist.component.html","C:\\Users\\macga\\OneDrive\\Bureau\\FREELANCE\\AZIZ\\mean-shoplift\\client\\src\\app\\products\\wishlist\\wishlist.component.ts"],"sourcesContent":["<!-- Empty wishlist -->\r\n<div class=\"container mt-5 pb-5 mb-5\" *ngIf=\"errorMsg\">\r\n    <div class=\"row\">\r\n        <div class=\"col-12 text-center noWish\">\r\n            <img src=\"../../../assets/images/wishlist.jpeg\" width=\"200\" alt=\"\">\r\n            <h1 class=\"pb-3 pt-3\">Your WishList is empty</h1>\r\n            <h4 class=\"pb-2\">Browse Product and add them to your <br>wishlist to see them here</h4>\r\n            <button type=\"button\" routerLink=\"\" class=\"bg-success text-white rounded py-2 px-3\">CONTINUE\r\n                SHOPPING</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"container px-lg-5 py-5\">\r\n    <div class=\"row mx-2 mx-lg-5 my-4 border my-lg-2 \" *ngFor=\"let product of wishList\">\r\n        <div class=\"col-6 col-lg-3  text-center p-3\">\r\n            <img src={{product.image}} alt=\"\" style=\"height:160px; width:130px\">\r\n        </div>\r\n        <div class=\"col-6 col-lg-3  bg-light py-2\">\r\n            <p>{{product.title}}</p>\r\n            <h5 class=\"fw-bold\">${{product.price}}</h5>\r\n            <div class=\"text-center mt-5\">\r\n                <button (click)=\"deleteWish(product)\" class=\"btn btn-outline-danger  mx-3\"><i\r\n                        class=\"fa fa-trash \"></i></button>\r\n                <button (click)=\"addtocart(product)\" class=\"btn btn-outline-success  mx-3\"><i\r\n                        class=\"fa fa-cart-plus\"></i></button>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-lg-6  p-3 \">\r\n            <h6 class=\"text-center fw-bold\"><u style=\"color:rgba(0, 0, 0, .7)\">Description</u></h6>\r\n            <p>{{product.description}}</p>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../api.service';\r\nimport { CartService } from '../cart.service';\r\n\r\n@Component({\r\n  selector: 'app-wishlist',\r\n  templateUrl: './wishlist.component.html',\r\n  styleUrls: ['./wishlist.component.css']\r\n})\r\nexport class WishlistComponent implements OnInit {\r\n\r\n  wishList: any = [];\r\n  errorMsg: any;\r\n\r\n  constructor(private api: ApiService, private router: Router, private cart: CartService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.api.getWishlist().subscribe(\r\n      (data: any) => {\r\n        this.wishList = data.products;\r\n        if (this.wishList.length == 0) {\r\n          this.errorMsg = 'Empty wishlist';\r\n        }\r\n      },\r\n      (data: any) => {\r\n        this.errorMsg = data.error.message;\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteWish(product: any) {\r\n    this.api.deleteWish(product.id).subscribe(\r\n      (result: any) => {\r\n        alert(result.message);\r\n        this.ngOnInit() // Automatic refresh\r\n        this.wishList = result.wishList\r\n      },\r\n      (result: any) => {\r\n        alert(result.error.message);\r\n      }\r\n    )\r\n  }\r\n\r\n  addtocart(product: any) {\r\n    this.cart.addtocart(product)\r\n  }\r\n  \r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}